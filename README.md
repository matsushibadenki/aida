# **AIDA: AI-Driven Assistant**

AIDAã¯ã€å¯¾è©±å½¢å¼ã§ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã‚¿ã‚¹ã‚¯ã‚’è‡ªå‹•åŒ–ã™ã‚‹AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®è‡ªç„¶è¨€èªã«ã‚ˆã‚‹æŒ‡ç¤ºã«åŸºã¥ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆ†æã€é–‹ç™ºè¨ˆç”»ã®ç«‹æ¡ˆã€ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€æ¤œç´¢ã€å®Ÿè¡Œã€ãã—ã¦ãƒ†ã‚¹ãƒˆã¾ã§ã‚’è‡ªå¾‹çš„ã«å®Ÿè¡Œã—ã¾ã™ã€‚

## **ğŸš€ ç‰¹å¾´**

* **å¯¾è©±å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹**: ãƒãƒ£ãƒƒãƒˆå½¢å¼ã§é–‹ç™ºã‚¿ã‚¹ã‚¯ã‚’ä¾é ¼ã§ãã¾ã™ã€‚  
* **è‡ªå¾‹çš„ãªã‚¿ã‚¹ã‚¯å®Ÿè¡Œ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŒ‡ç¤ºã‚’è§£é‡ˆã—ã€å¿…è¦ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã€ã‚³ãƒ¼ãƒ‰ç·¨é›†ã€ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã€ãƒ†ã‚¹ãƒˆï¼‰ã‚’è‡ªã‚‰è¨ˆç”»ã—ã€å®Ÿè¡Œã—ã¾ã™ã€‚  
* **å‹•çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**: å›ºå®šçš„ãªæ‰‹é †ã§ã¯ãªãã€ã‚¿ã‚¹ã‚¯ã®å†…å®¹ã«å¿œã˜ã¦ã€Œåˆ†æ â†’ è¨ˆç”» â†’ å®Ÿè¡Œ â†’ æ¤œè¨¼ã€ã®ã‚µã‚¤ã‚¯ãƒ«ã‚’æŸ”è»Ÿã«ç¹°ã‚Šè¿”ã—ã¾ã™ã€‚  
* **LangChainçµ±åˆ**: LLMã¨ã®ã‚„ã‚Šå–ã‚Šã‚’æ§‹é€ åŒ–ã—ã€å®‰å®šã—ãŸè¨ˆç”»ã‚„ã‚³ãƒ¼ãƒ‰ã®ç”Ÿæˆã‚’å®Ÿç¾ã—ã¾ã™ã€‚  
* **ã‚¯ãƒªãƒ¼ãƒ³ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: DIã‚³ãƒ³ãƒ†ãƒŠï¼ˆdependency-injectorï¼‰ã‚’å°å…¥ã—ã€ä¿å®ˆæ€§ã®é«˜ã„è¨­è¨ˆã«ãªã£ã¦ã„ã¾ã™ã€‚  
* **å®‰å…¨ãªã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ç’°å¢ƒ**: ã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œã‚„ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã¯ã€ã¾ãšéš”é›¢ã•ã‚ŒãŸã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ç’°å¢ƒã§è¡Œã‚ã‚Œã€ã‚¿ã‚¹ã‚¯å®Œäº†å¾Œã«å®Ÿéš›ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã«åæ˜ ã•ã‚Œã‚‹ãŸã‚å®‰å…¨ã§ã™ã€‚

## **ğŸ åˆ©ç”¨é–‹å§‹ã¾ã§ã®æµã‚Œ**

### **1\. å‰ææ¡ä»¶**

* Python 3.10ä»¥ä¸Š  
* [Ollama](https://ollama.com/)ãŒãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã“ã¨ã€‚

Ollamaã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã€ä½¿ç”¨ã™ã‚‹ãƒ¢ãƒ‡ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚

\# Ollamaã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹• (ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã¯èµ·å‹•ã—ãŸã¾ã¾ã«ã—ã¾ã™)  
ollama serve

\# åˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ãã€ãƒ¢ãƒ‡ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰  
ollama pull gemma3:latest

### **2\. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**

1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æº–å‚™:  
   ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆaidaãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰ã‚’ä»»æ„ã®å ´æ‰€ã«é…ç½®ã—ã¾ã™ã€‚  
2. **ä»®æƒ³ç’°å¢ƒã®ä½œæˆ**:  
   python3 \-m venv .venv  
   source .venv/bin/activate

3. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:  
   ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ã‚ã‚‹requirements.txtã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚  
   pip install \-r requirements.txt

### **3\. å®Ÿè¡Œæ–¹æ³•**

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆaidaãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®è¦ªï¼‰ã§ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

python \-m aida.main

å®Ÿè¡Œã™ã‚‹ã¨ã€--- AIDA: AI-Driven Assistant \---ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨å…±ã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

### **4\. ä½¿ã„æ–¹**

Prompt \> ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ã€é–‹ç™ºã‚¿ã‚¹ã‚¯ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚

**ä¾‹:**

* aida/workspace/app.pyã«ã€Œdef get\_status(): return "ok"ã€ã¨ã„ã†é–¢æ•°ã‚’è¿½åŠ ã—ã¦ãã ã•ã„  
* project\_analyzer.py ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒã©ã“ã«ã‚ã‚‹ã‹æ¢ã—ã¦  
* workspace/app.py ã‚’å®Ÿè¡Œã—ã¦  
* math\_utils.py ã®ãƒã‚°ã‚’ä¿®æ­£ã™ã‚‹ãŸã‚ã®ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ã¦ã€ãã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦

ã‚·ã‚¹ãƒ†ãƒ ãŒè¨ˆç”»ã‚’ç«‹ã¦ã€å¿…è¦ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆã‚³ãƒ¼ãƒ‰ç”Ÿæˆã€ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œãªã©ï¼‰ã‚’é †ç•ªã«å®Ÿè¡Œã—ã¾ã™ã€‚å¤‰æ›´ãŒå®Œäº†ã™ã‚‹ã¨ã€çµæœãŒãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã«åæ˜ ã•ã‚Œã¾ã™ã€‚

## **ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ **

.  
â”œâ”€â”€ aida/  
â”‚   â”œâ”€â”€ agents/         \# å„æ©Ÿèƒ½æ‹…å½“ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ  
â”‚   â”‚   â”œâ”€â”€ analysis\_agent.py  
â”‚   â”‚   â”œâ”€â”€ coding\_agent.py  
â”‚   â”‚   â”œâ”€â”€ debugging\_agent.py  
â”‚   â”‚   â”œâ”€â”€ execution\_agent.py  \# (New) ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ  
â”‚   â”‚   â”œâ”€â”€ planning\_agent.py  
â”‚   â”‚   â””â”€â”€ search\_agent.py  
â”‚   â”‚   â””â”€â”€ testing\_agent.py  
â”‚   â”œâ”€â”€ analysis/       \# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ†æé–¢é€£  
â”‚   â”œâ”€â”€ rag/            \# RAG (Retrieval-Augmented Generation) é–¢é€£  
â”‚   â”œâ”€â”€ workspace/      \# AIDAãŒä½œæ¥­ã™ã‚‹å¯¾è±¡ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ  
â”‚   â”œâ”€â”€ \_\_init\_\_.py  
â”‚   â”œâ”€â”€ config.yml      \# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«  
â”‚   â”œâ”€â”€ container.py    \# DIã‚³ãƒ³ãƒ†ãƒŠ  
â”‚   â”œâ”€â”€ llm\_client.py   \# LLMé€šä¿¡ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ  
â”‚   â”œâ”€â”€ main.py         \# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ  
â”‚   â”œâ”€â”€ orchestrator.py \# å…¨ä½“ã‚’çµ±æ‹¬ã™ã‚‹ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼  
â”‚   â”œâ”€â”€ schemas.py      \# ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å®šç¾©  
â”‚   â””â”€â”€ utils.py        \# å…±é€šé–¢æ•°  
â””â”€â”€ requirements.txt    \# ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

## **ğŸ“„ è©³ç´°è¨­è¨ˆä»•æ§˜æ›¸**

### **1\. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦**

æœ¬ã‚·ã‚¹ãƒ†ãƒ ã¯ã€**ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚ä¸­å¿ƒçš„ãªå½¹å‰²ã‚’æ‹…ã†OrchestratorãŒã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŒ‡ç¤ºã«åŸºã¥ãã€å„å°‚é–€åˆ†é‡ï¼ˆè¨ˆç”»ã€ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€æ¤œç´¢ã€å®Ÿè¡Œãªã©ï¼‰ã‚’æ‹…å½“ã™ã‚‹Agentç¾¤ã‚’å”èª¿ã•ã›ã¦ã‚¿ã‚¹ã‚¯ã‚’é‚è¡Œã—ã¾ã™ã€‚

ã‚¯ãƒ©ã‚¹é–“ã®ä¾å­˜é–¢ä¿‚ã¯ã€**DIï¼ˆDependency Injectionï¼‰ã‚³ãƒ³ãƒ†ãƒŠ**ã«ã‚ˆã£ã¦ç®¡ç†ã•ã‚Œã¦ãŠã‚Šã€å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç–çµåˆæ€§ã¨ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ã‚’é«˜ã‚ã¦ã„ã¾ã™ã€‚

graph TD  
    subgraph "User Interface"  
        UI\["main.py\<br\>Chat Interface"\]  
    end

    subgraph "Core System"  
        Container\["DI Container\<br\>(container.py)"\]  
        Orchestrator\["Orchestrator"\]  
    end

    subgraph "Agents"  
        Planning\["PlanningAgent"\]  
        Coding\["CodingAgent"\]  
        Search\["SearchAgent"\]  
        Execution\["ExecutionAgent"\]  
        Testing\["TestingAgent"\]  
        Debugging\["DebuggingAgent"\]  
        Analysis\["AnalysisAgent"\]  
    end

    subgraph "RAG Layer"  
        Indexing\["IndexingAgent"\]  
        Retrieval\["RetrievalAgent"\]  
    end  
        
    subgraph "LLM Layer"  
        LLMClient\["LLMClient"\]  
        Ollama\["Ollama\<br\>gemma3:latest"\]  
    end

    UI \--\> Orchestrator  
    Container \-- "Wires up" \--\> Orchestrator  
    Container \-- "Injects" \--\> Planning  
    Container \-- "Injects" \--\> Coding  
    Container \-- "Injects" \--\> Search  
    Container \-- "Injects" \--\> Execution  
    Container \-- "Injects" \--\> Testing  
    Container \-- "Injects" \--\> Debugging  
    Container \-- "Injects" \--\> Analysis  
    Container \-- "Injects" \--\> Indexing  
    Container \-- "Injects" \--\> Retrieval  
        
    Orchestrator \-- "Controls" \--\> Planning  
    Orchestrator \-- "Controls" \--\> Coding  
    Orchestrator \-- "Controls" \--\> Search  
    Orchestrator \-- "Controls" \--\> Execution  
    Orchestrator \-- "Controls" \--\> Testing  
    Orchestrator \-- "Controls" \--\> Debugging  
    Orchestrator \-- "Controls" \--\> Analysis  
    Orchestrator \-- "Uses" \--\> Indexing

    Planning \-- "Uses" \--\> LLMClient  
    Coding \-- "Uses" \--\> LLMClient  
    Debugging \-- "Uses" \--\> LLMClient  
      
    Coding \-- "Uses" \--\> Retrieval  
    Debugging \-- "Uses" \--\> Retrieval

    LLMClient \-- "Communicates with" \--\> Ollama

### **2\. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°**

* **main.py**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•ã€DIã‚³ãƒ³ãƒ†ãƒŠã®åˆæœŸåŒ–ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®å¯¾è©±ãƒ«ãƒ¼ãƒ—ã‚’æ‹…å½“ã€‚  
* **container.py**: dependency-injectorã‚’ä½¿ç”¨ã—ã€ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã¨ä¾å­˜é–¢ä¿‚ã®æ³¨å…¥ã‚’ä¸€å…ƒç®¡ç†ã€‚  
* **orchestrator.py**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŒ‡ç¤ºã«åŸºã¥ãã€PlanningAgentãŒç«‹ã¦ãŸè¨ˆç”»ã‚’å®Ÿè¡Œã™ã‚‹å¸ä»¤å¡”ã€‚ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ç¨®é¡ã«å¿œã˜ã¦é©åˆ‡ãªã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å‘¼ã³å‡ºã—ã€å…¨ä½“ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’åˆ¶å¾¡ã™ã‚‹ã€‚  
* **llm\_client.py**: Ollamaã‚µãƒ¼ãƒãƒ¼ã¨ã®é€šä¿¡ã‚’ã‚«ãƒ—ã‚»ãƒ«åŒ–ã™ã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã€‚  
* **schemas.py**: Pydanticã‚’ä½¿ç”¨ã—ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“ã§äº¤æ›ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆAction, CodeChangeãªã©ï¼‰ã‚’å³å¯†ã«å®šç¾©ã™ã‚‹ã€‚  
* **agents/**:  
  * **planning\_agent.py**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦æ±‚ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’åŸºã«ã€æ¬¡ã«è¡Œã†ã¹ãã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆActionã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã‚’æ±ºå®šã™ã‚‹ã€‚  
  * **coding\_agent.py**: Actionã®æŒ‡ç¤ºã«åŸºã¥ãã€RAGï¼ˆRetrievalAgentï¼‰ã§å¾—ãŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’åˆ©ç”¨ã—ã¦ã€ã‚³ãƒ¼ãƒ‰ã®ç”Ÿæˆãƒ»ä¿®æ­£æ¡ˆï¼ˆCodeChangeãƒªã‚¹ãƒˆï¼‰ã‚’ä½œæˆã™ã‚‹ã€‚  
  * **search\_agent.py**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¯¾è±¡ã«ã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ã‚’å®Ÿè¡Œã™ã‚‹ã€‚  
  * **execution\_agent.py**: pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œãªã©ã€ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã‚’å®‰å…¨ãªã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹å†…ã§å®Ÿè¡Œã—ã€çµæœã‚’è¿”ã™ã€‚  
  * **testing\_agent.py**: pytestã‚’å®Ÿè¡Œã—ã€ãƒ†ã‚¹ãƒˆçµæœã‚’è©•ä¾¡ã™ã‚‹ã€‚  
  * **debugging\_agent.py**: ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ãŸå ´åˆã€ã‚¨ãƒ©ãƒ¼æƒ…å ±ã¨é–¢é€£ã‚³ãƒ¼ãƒ‰ã‚’LLMã«æ¸¡ã—ã€ä¿®æ­£æ¡ˆã‚’ç”Ÿæˆã•ã›ã‚‹ã€‚  
  * **analysis\_agent.py**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã‚’é™çš„ã«åˆ†æã—ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã™ã‚‹ã€‚  
* **rag/**:  
  * **indexing\_agent.py**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒ£ãƒ³ã‚¯ã«åˆ†å‰²ã—ã€VectorStoreã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆã™ã‚‹ã€‚  
  * **retrieval\_agent.py**: ã‚¯ã‚¨ãƒªã«åŸºã¥ã„ã¦ã€é–¢é€£æ€§ã®é«˜ã„ã‚³ãƒ¼ãƒ‰ç‰‡ã‚’VectorStoreã‹ã‚‰æ¤œç´¢ã™ã‚‹ã€‚  
* **utils.py**: ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ç®¡ç†ãªã©ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§å…±æœ‰ã•ã‚Œã‚‹å…±é€šé–¢æ•°ã‚’æ ¼ç´ã™ã‚‹ã€‚

### **3\. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼**

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã€Orchestratorã‚’ä¸­å¿ƒã¨ã—ãŸå‹•çš„ãªãƒ«ãƒ¼ãƒ—ã§å‡¦ç†ã•ã‚Œã¾ã™ã€‚

sequenceDiagram  
    participant User  
    participant Main  
    participant Orchestrator  
    participant PlanningAgent  
    participant ActionAgents as \[Coding/Search/Exec...\]

    User-\>\>Main: é–‹ç™ºã‚¿ã‚¹ã‚¯ã‚’å…¥åŠ›  
    Main-\>\>Orchestrator: run\_task(prompt)  
      
    loop Task Execution Loop  
        Orchestrator-\>\>PlanningAgent: run(goal, history, last\_result)  
        PlanningAgent--\>\>Orchestrator: æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³(Action)  
          
        alt action.type is "finish"  
            Orchestrator--\>\>Main: ã‚¿ã‚¹ã‚¯å®Œäº†  
            break  
        end

        Orchestrator-\>\>ActionAgents: action.typeã«å¿œã˜ã¦å®Ÿè¡Œ  
        ActionAgents--\>\>Orchestrator: å®Ÿè¡Œçµæœ  
        Orchestrator--\>\>Orchestrator: last\_resultã¨historyã‚’æ›´æ–°  
    end

### **4\. ä¸»è¦ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ **

* **Action**: PlanningAgentãŒç”Ÿæˆã™ã‚‹ã€å˜ä¸€ã®å®Ÿè¡Œå˜ä½ã€‚  
  * type (str): code, search, executeãªã©ã€å®Ÿè¡Œã™ã¹ãã‚¿ã‚¹ã‚¯ã®ç¨®é¡ã€‚  
  * description (str): ã‚¿ã‚¹ã‚¯ã®è©³ç´°ãªæŒ‡ç¤ºå†…å®¹ã€‚  
* **CodeChange**: CodingAgentãŒç”Ÿæˆã™ã‚‹ã€å˜ä¸€ã®ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã€‚  
  * file\_path (str): å¤‰æ›´å¯¾è±¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã€‚  
  * action (str): create, update, deleteã®ã„ãšã‚Œã‹ã€‚  
  * content (str): æ›¸ãè¾¼ã‚€ãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€‚

ã“ã®æ§‹é€ ã«ã‚ˆã‚Šã€LLMãŒæ›–æ˜§ãªå¿œç­”ã§ã¯ãªãã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ç›´æ¥åˆ©ç”¨å¯èƒ½ãªå½¢å¼ã§è¨ˆç”»ã‚„ã‚³ãƒ¼ãƒ‰ã‚’å‡ºåŠ›ã™ã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¾ã™ã€‚